<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Anagrafica con Collection</title>
    <link rel="stylesheet" href="script.js">
</head>
<body>

<h2>Anagrafica Utente con Collection</h2>

<form id="anagraficaForm">
    Nome: <input type="text" id="nome"><br><br>
    Cognome: <input type="text" id="cognome"><br><br>
    Indirizzo: <input type="text" id="indirizzo"><br><br>
    Citt√†: <input type="text" id="citta"><br><br>
    CAP: <input type="text" id="cap"><br><br>
    Data di nascita: <input type="date" id="dataNascita"><br><br>

    
    Sesso:<br>
    <input type="radio" name="sesso" value="M"> Maschio<br>
    <input type="radio" name="sesso" value="F"> Femmina<br>
    <input type="radio" name="sesso" value="Altro"> Altro<br><br>

    
    Provincia:
    <select id="provincia">
        <option value="NA">NA</option>
        <option value="RM">RM</option>
        <option value="MI">MI</option>
        <option value="TO">TO</option>
        <option value="FI">FI</option>
    </select><br><br>

    
    Mezzi posseduti in famiglia:<br>
    <input type="checkbox" value="Auto" class="mezzo"> Auto<br>
    <input type="checkbox" value="Moto" class="mezzo"> Moto<br>
    <input type="checkbox" value="Bici" class="mezzo"> Bici<br>
    <input type="checkbox" value="Aereo" class="mezzo"> Furgone<br>
    <input type="checkbox" value="Yacht" class="mezzo"> Barca<br><br>

    
    Materie preferite (max 3):
    <select id="materie" multiple size="5">
        <option value="Matematica">Matematica</option>
        <option value="Italiano">Italiano</option>
        <option value="Inglese">Inglese</option>
        <option value="Storia">Storia</option>
        <option value="Geografia">Geografia</option>
        <option value="Informatica">Informatica</option>
        <option value="Scienze">Scienze</option>
        <option value="Arte">Arte</option>
        <option value="Musica">Musica</option>
    </select><br><br>

    <button type="button" onclick="invia()">Invia</button>
</form>

<h3 id="risultato"></h3>



</body>
    <script>
        
// Determina generazione
function determinaGenerazione(anno) {
    if (anno >= 2013) return "Generazione Alpha";
    if (anno >= 1997) return "Generazione Z";
    if (anno >= 1981) return "Millennials";
    if (anno >= 1965) return "Generazione X";
    if (anno >= 1946) return "Baby Boomers";
    if (anno >= 1928) return "Generazione Silenziosa";
    if (anno >= 1901) return "Greatest Generation";
    return "Generazione non definita";
}

function invia() {

    

    let anagrafica = {}; // oggetto principale

    // Dati base
    anagrafica.nome = document.getElementById("nome").value;
    anagrafica.cognome = document.getElementById("cognome").value;
    anagrafica.indirizzo = document.getElementById("indirizzo").value;
    anagrafica.citta = document.getElementById("citta").value;
    anagrafica.cap = document.getElementById("cap").value;
    anagrafica.dataNascita = document.getElementById("dataNascita").value;

    // determina sesso
    const sesso = document.querySelector('input[name="sesso"]:checked');
    anagrafica.sesso = sesso ? sesso.value : "Non specificato";

    // provincia
    anagrafica.provincia = document.getElementById("provincia").value;

    // mezzi con array
    let mezzi = [];
    document.querySelectorAll(".mezzo:checked").forEach(m => mezzi.push(m.value));
    anagrafica.mezzi = mezzi;

    // materie preferite 
    let materie = [];
    const selezionate = document.querySelectorAll("#materie option:checked");
    if (selezionate.length > 3) {
        alert("Puoi selezionare solo 3 materie!");
        return;
    }
    selezionate.forEach(op => materie.push(op.value));
    anagrafica.materiePreferite = materie;

    // Calcolo generazione
    const anno = new Date(anagrafica.dataNascita).getFullYear();
    anagrafica.generazione = determinaGenerazione(anno);

    
    document.getElementById("risultato").innerHTML =
        `<strong>${anagrafica.nome} ${anagrafica.cognome}</strong><br>
         ${anagrafica.indirizzo}, ${anagrafica.citta} (${anagrafica.cap}) - ${anagrafica.provincia}<br>
         Sesso: ${anagrafica.sesso}<br>
         Mezzi posseduti: ${anagrafica.mezzi.join(", ") || "Nessuno"}<br>
         Materie preferite: ${anagrafica.materiePreferite.join(", ") || "Nessuna"}<br>
         Data di nascita: ${anagrafica.dataNascita}<br>
         Generazione: <strong>${anagrafica.generazione}</strong><br><br>

         <b>Oggetto anagrafica (collection):</b><br>
         <pre>${JSON.stringify(anagrafica, null, 2)}</pre>`;
}

    </script>
</html>
